<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing Calculator</title>

<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #f5f7fa;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 850px;
    margin: auto;
    background: #ffffff;
    padding: 28px;
    border-radius: 18px;
    box-shadow: 0 12px 28px rgba(0,0,0,0.12);
    position: relative;
}

.retail-reference {
    position: absolute;
    top: 18px;
    right: 18px;
    background: #eef2ff;
    border-radius: 12px;
    padding: 14px 16px;
    font-size: 14px;
    line-height: 1.5;
    box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}

.retail-reference strong {
    display: block;
    margin-bottom: 6px;
}

h1 { text-align: center; }

label {
    font-weight: 600;
    display: block;
    margin-top: 20px;
}

input, select {
    width: 100%;
    padding: 16px;
    font-size: 20px;
    margin-top: 8px;
    border-radius: 12px;
    border: 1px solid #ccc;
}

.section { margin-top: 30px; }

.results {
    margin-top: 15px;
    background: #f0f4ff;
    padding: 20px;
    border-radius: 14px;
}

.result-line {
    display: flex;
    justify-content: space-between;
    font-size: 18px;
    margin: 10px 0;
}

.total { font-size: 22px; font-weight: bold; }

.highlight {
    font-size: 26px;
    font-weight: bold;
    color: #0b5ed7;
}

.small { font-size: 16px; opacity: 0.8; }
</style>
</head>

<body>
<div class="container">

    <!-- Retail Reference -->
    <div class="retail-reference">
        <strong>Retail Reference</strong>
        +10%: <span id="r10">$0.00</span><br>
        70% of (+10%): <span id="r10_70">$0.00</span><br>
        +15%: <span id="r15">$0.00</span><br>
        70% of (+15%): <span id="r15_70">$0.00</span><br>
        +20%: <span id="r20">$0.00</span><br>
        70% of (+20%): <span id="r20_70">$0.00</span>
    </div>

    <h1>
    <img src="renew.png" alt="Pricing Calculator" style="max-width:260px; width:100%;">
    </h1>

    <label>Base Price ($)</label>
    <input type="number" id="basePrice" placeholder="Enter base price">

    <label>Discount</label>
    <select id="discount">
        <option value="0">No Discount</option>
        <option value="0.10">10% OFF</option>
        <option value="0.15">15% OFF</option>
        <option value="0.20">20% OFF</option>
    </select>

    <div class="results">
        <div class="result-line">
            <span>You Save</span>
            <span id="savings">$0.00</span>
        </div>
        <div class="result-line total">
            <span>Promo Price</span>
            <span id="promo">$0.00</span>
        </div>
    </div>

    <div class="section">
        <label>Down Payment (10%)</label>
        <div class="results">
            <div class="result-line total">
                <span>Due Today</span>
                <span id="down">$0.00</span>
            </div>
        </div>
    </div>

    <div class="section">
        <label>Price After Down</label>
        <div class="results">
            <div class="result-line total">
                <span>Remaining</span>
                <span id="remaining">$0.00</span>
            </div>
        </div>
    </div>

    <div class="section">
        <label>Financing Option</label>
        <div class="results">
            <div class="result-line">
                <span>Term</span>
                <span>120 Months</span>
            </div>
            <div class="result-line">
                <span>APR</span>
                <span>9.99%</span>
            </div>
            <div class="result-line highlight">
                <span>Estimated Monthly Payment</span>
                <span id="monthlyPayment">$0.00 / mo</span>
            </div>
            <div class="small">
                *Based on promo price minus 10% down payment
            </div>
        </div>
    </div>

</div>

<script>
function calculate() {
    const base = parseFloat(document.getElementById("basePrice").value) || 0;
    const discountRate = parseFloat(document.getElementById("discount").value);

    // Calculate Retail Reference to match exact discount
    const retailRefs = {
        10: base / (1 - 0.10), // increase so that 10% off returns to base
        15: base / (1 - 0.15),
        20: base / (1 - 0.20)
    };

    // Update retail reference
    document.getElementById("r10").textContent = `$${retailRefs[10].toFixed(2)}`;
    document.getElementById("r10_70").textContent = `$${(retailRefs[10]*0.70).toFixed(2)}`;
    document.getElementById("r15").textContent = `$${retailRefs[15].toFixed(2)}`;
    document.getElementById("r15_70").textContent = `$${(retailRefs[15]*0.70).toFixed(2)}`;
    document.getElementById("r20").textContent = `$${retailRefs[20].toFixed(2)}`;
    document.getElementById("r20_70").textContent = `$${(retailRefs[20]*0.70).toFixed(2)}`;

    // Calculate "You Save" = Base Price × Discount Rate
    const savingsAmount = base * discountRate;

    // Promo Price = Base Price − You Save
    const promo = base - savingsAmount;

    document.getElementById("savings").textContent = `$${savingsAmount.toFixed(2)}`;
    document.getElementById("promo").textContent = `$${promo.toFixed(2)}`;

    // Down payment
    const down = promo * 0.10;
    document.getElementById("down").textContent = `$${down.toFixed(2)}`;
    document.getElementById("remaining").textContent = `$${(promo - down).toFixed(2)}`;

    // Financing
    const financedAmount = promo - down;
    const annualRate = 0.0999;
    const monthlyRate = annualRate / 12;
    const months = 120;
    let monthlyPayment = 0;
    if (financedAmount > 0) {
        monthlyPayment =
            financedAmount *
            (monthlyRate * Math.pow(1 + monthlyRate, months)) /
            (Math.pow(1 + monthlyRate, months) - 1);
    }
    document.getElementById("monthlyPayment").textContent = `$${monthlyPayment.toFixed(2)} / mo`;
}

document.querySelectorAll("input, select").forEach(el =>
    el.addEventListener("input", calculate)
);
</script>

</body>
</html>

